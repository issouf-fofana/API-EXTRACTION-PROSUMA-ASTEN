================================================================================
           GUIDE ULTRA-RAPIDE POUR RED HAT / CENTOS / FEDORA
================================================================================

Utilisateur : fofana@proextrasten
SystÃ¨me : Red Hat avec dnf

================================================================================
   INSTALLATION EN 3 COMMANDES !
================================================================================

# 1. Rendre le script exÃ©cutable
chmod +x run_api_extraction.sh run_commande_reassort.sh

# 2. Lancer le script - TERMINÃ‰ !
./run_api_extraction.sh

# C'EST TOUT ! Le script fait automatiquement :
#   âœ… DÃ©tecte Red Hat + dnf
#   âœ… Installe cifs-utils si nÃ©cessaire
#   âœ… Copie les fichiers dans ~/API-EXTRACTION-PROSUMA-ASTEN
#   âœ… Configure Python
#   âœ… Lance l'extracteur

================================================================================
   CE QUE VOUS VERREZ
================================================================================

ðŸ§ SystÃ¨me dÃ©tectÃ©: Linux (redhat-dnf)

ðŸ”§ VÃ©rification des dÃ©pendances systÃ¨me...
   ðŸ“¦ Distribution: Red Hat/CentOS/Fedora (dnf)
   âš™ï¸  Installation de cifs-utils avec dnf...
   âœ… cifs-utils installÃ©

âœ… Code source dÃ©tectÃ© - Installation locale automatique...
ðŸ“‚ Copie vers /home/fofana/API-EXTRACTION-PROSUMA-ASTEN...
âœ… Installation terminÃ©e

============================================================
           API EXTRACTION PROSUMA - EXTRACTEUR UNIFIÃ‰
============================================================

[Menu interactif s'affiche]

================================================================================
   AUTOMATISATION (OPTIONNEL)
================================================================================

Pour exÃ©cuter automatiquement tous les jours Ã  8h00 :

crontab -e

# Ajouter cette ligne :
0 8 * * * cd ~/API-EXTRACTION-PROSUMA-ASTEN && ./run_commande_reassort.sh >> ~/extraction.log 2>&1

# Sauvegarder et quitter (ESC, puis :wq, puis EntrÃ©e)

================================================================================
   DIFFÃ‰RENCES AVEC L'ANCIENNE VERSION
================================================================================

AVANT (Version 2.0) :
   âŒ Il fallait lancer setup_linux_local.sh d'abord
   âŒ Puis lancer run_api_extraction.sh
   âŒ Deux scripts sÃ©parÃ©s

MAINTENANT (Version 3.0) :
   âœ… UN SEUL SCRIPT FAIT TOUT !
   âœ… ./run_api_extraction.sh
   âœ… Installation + configuration + lancement automatiques

================================================================================
   NOUVEAUTÃ‰S AUTOMATIQUES
================================================================================

Le script dÃ©tecte AUTOMATIQUEMENT :
   âœ… Votre OS (Linux)
   âœ… Votre distribution (Red Hat)
   âœ… Votre gestionnaire de paquets (dnf)

Le script installe AUTOMATIQUEMENT :
   âœ… cifs-utils (si pas dÃ©jÃ  installÃ©)
   âœ… DÃ©pendances Python

Le script configure AUTOMATIQUEMENT :
   âœ… Installation locale dans ~/API-EXTRACTION-PROSUMA-ASTEN
   âœ… Environnement virtuel Python
   âœ… Tous les modules nÃ©cessaires

================================================================================
   VÃ‰RIFICATIONS Ã€ CHAQUE LANCEMENT
================================================================================

Ã€ chaque fois que vous lancez ./run_api_extraction.sh :
   âœ… VÃ©rifie que cifs-utils est installÃ©
   âœ… VÃ©rifie l'installation locale
   âœ… VÃ©rifie Python et pip
   âœ… Met Ã  jour les dÃ©pendances si nÃ©cessaire

================================================================================
   COMMANDES UTILES
================================================================================

# Lancer l'extracteur interactif (menu)
./run_api_extraction.sh

# Lancer extraction automatique commandes rÃ©assort
./run_commande_reassort.sh

# Voir l'installation
ls -l ~/API-EXTRACTION-PROSUMA-ASTEN

# Voir les logs (si configurÃ© avec cron)
tail -f ~/extraction.log

# VÃ©rifier votre distribution
cat /etc/redhat-release

# VÃ©rifier dnf
command -v dnf

================================================================================
   STRUCTURE DES FICHIERS APRÃˆS INSTALLATION
================================================================================

~/API-EXTRACTION-PROSUMA-ASTEN/
â”œâ”€â”€ run_api_extraction.sh          â† Script principal (menu)
â”œâ”€â”€ run_commande_reassort.sh       â† Script automatique
â”œâ”€â”€ config.env                     â† Configuration
â”œâ”€â”€ magasins.json                  â† Liste des magasins
â”œâ”€â”€ requirements.txt               â† DÃ©pendances Python
â”œâ”€â”€ API_COMMANDE/                  â† Module Commandes
â”œâ”€â”€ API_COMMANDE_DIRECTE/          â† Module Commandes directes
â”œâ”€â”€ API_COMMANDE_REASSORT/         â† Module Commandes rÃ©assort
â”œâ”€â”€ API_BASE_ARTICLE/              â† Module Articles
â”œâ”€â”€ API_PRODUIT_NON_TROUVE/        â† Module Produits non trouvÃ©s
â””â”€â”€ ... (14 modules au total)

================================================================================
   SUPPORT DNF (RED HAT 8+)
================================================================================

Votre systÃ¨me Red Hat utilise DNF automatiquement dÃ©tectÃ© !

Commandes utilisÃ©es automatiquement par le script :
   sudo dnf install -y cifs-utils

Si vous Ãªtes sur Red Hat 7 (yum), le script le dÃ©tectera et utilisera :
   sudo yum install -y cifs-utils

================================================================================
   DÃ‰PANNAGE RAPIDE
================================================================================

ProblÃ¨me : "Permission denied"
Solution : chmod +x run_api_extraction.sh

ProblÃ¨me : "Python not found"
Solution : sudo dnf install python3

ProblÃ¨me : "cifs-utils installation failed"
Solution : sudo dnf install -y cifs-utils (manuellement)

ProblÃ¨me : "Le dossier n'est pas accessible"
Solution : Vous Ãªtes dans le bon dossier ?
          cd ~/API-EXTRACTION-PROSUMA-ASTEN

================================================================================
   PREMIÃˆRE UTILISATION - WORKFLOW COMPLET
================================================================================

Ã‰tape 1 : Copier les fichiers sur le serveur Red Hat
   # Depuis votre PC Windows (avec WinSCP, scp, ou autre)
   # Copiez tout le dossier EXTRACTION_PROSUMA

Ã‰tape 2 : Se connecter au serveur
   ssh fofana@proextrasten

Ã‰tape 3 : Aller dans le dossier
   cd ~/EXTRACTION_PROSUMA
   # OU si vous l'avez copiÃ© ailleurs
   cd /chemin/vers/EXTRACTION_PROSUMA

Ã‰tape 4 : Rendre exÃ©cutable
   chmod +x *.sh

Ã‰tape 5 : Lancer
   ./run_api_extraction.sh

Ã‰tape 6 : C'est terminÃ© !
   Le script fait TOUT automatiquement

================================================================================
   EXTRACTION AUTOMATIQUE QUOTIDIENNE
================================================================================

Configuration en 3 Ã©tapes :

1. CrÃ©er un dossier pour les logs
   mkdir -p ~/logs

2. Configurer cron
   crontab -e

3. Ajouter cette ligne pour exÃ©cution Ã  8h00 tous les jours
   0 8 * * * cd ~/API-EXTRACTION-PROSUMA-ASTEN && ./run_commande_reassort.sh >> ~/logs/extraction_$(date +\%Y\%m\%d).log 2>&1

4. Sauvegarder et quitter
   ESC puis :wq puis ENTRÃ‰E (dans vi/vim)
   ou CTRL+X puis Y puis ENTRÃ‰E (dans nano)

5. VÃ©rifier que c'est configurÃ©
   crontab -l

================================================================================
   RÃ‰SUMÃ‰ ULTRA-RAPIDE
================================================================================

1. chmod +x *.sh
2. ./run_api_extraction.sh
3. TERMINÃ‰ !

Le script fait TOUT automatiquement :
   âœ… DÃ©tection systÃ¨me
   âœ… Installation dÃ©pendances (dnf)
   âœ… Configuration chemins
   âœ… Installation locale
   âœ… Lancement extracteur

================================================================================
   SUPPORT
================================================================================

Documentations disponibles :
   - NOUVEAU_README_TOUT_EN_UN.md  (Guide complet version 3.0)
   - README_LINUX.md                (Guide Linux dÃ©taillÃ©)
   - QUICK_START.md                 (DÃ©marrage rapide multi-OS)

CrÃ©ateur : Alien ðŸ‘½
SystÃ¨me : Red Hat / CentOS / Fedora avec dnf
Version : 3.0 - TOUT-EN-UN Auto-Install

================================================================================
   BON COURAGE !
================================================================================

Vous Ãªtes prÃªt ! Lancez simplement :
   ./run_api_extraction.sh

Et le script fait le reste automatiquement ! ðŸš€

